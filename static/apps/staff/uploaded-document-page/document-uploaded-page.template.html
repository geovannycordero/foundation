<!--
  ~ Copyright (c) Small Brain Records 2014-2020. Kevin Perdue, James Ryan with contributors Timothy Clemens and Dinh Ngoc Anh
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>
  -->

<section class="text-center">
    <h3>
        <a href='/'><i class='glyphicon glyphicon-arrow-left'></i> Back To Home </a>
    </h3>
</section>
<hr>
<section class="text-center">
    <h3> Uploaded documents</h3>
</section>
<hr>

<div class="container-fluid">
    <!-- Uploaded document-detail-page list-->
    <div class='panel panel-default'>
        <div class='panel-heading'>Uploaded document
            <a class="pull-right" ng-click="togglePinnedDocument()"
               ng-bind="showPinned?'Hide pinned documents':'Show pinned documents'"></a>
        </div>

        <div class='panel-body'>

            <table class='table'>
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat='document in documents track by $index'>
                    <td>
                        <span ng-if="document.patient != null"><b>({{ document.patient.first_name }} {{ document.patient.last_name }})</b></span>
                        <span ng-bind="document.document_name"></span>
                    </td>
                    <td class="text-right">
                        <a class="btn btn-default" ng-if="document.patient != null"
                           href="/u/patient/manage/{{ document.patient.id }}/#!document/{{ document.id }}">Tags</a>
                        <a class="btn btn-default" ng-if="document.patient == null"
                           href="/#!manage/document/{{ document.id }}">Tags</a>
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="2" class="text-center">
                        <ul uib-pagination direction-links="false" boundary-links="false" total-items="totalItems"
                            ng-model="currentPage" items-per-page="itemPerPage" ng-change="updateSearchTerm()"></ul>
                    </td>
                </tr>
                </tfoot>
            </table>
        </div>

    </div>
</div>
