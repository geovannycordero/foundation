<toaster-container></toaster-container>

<a href='#/'><b> Manage Patient </b></a>

<div class="container-fluid">
	<div class="row">
		<div class="col-xs-8">
			<h3>{{todo.todo}}</h3>
			<p>{{todo.due_date}}</p>
			<p>{{todo.problem.problem_name}}</p>
			<p>
				<span ng-if="todo.accomplished == true">Accomplished</span>
				<span ng-if="todo.accomplished == false">Not Accomplished</span>
			</p>

			<div class="row">
				<div class="col-xs-12">
					<form class='form-inline' role='form' ng-submit='add_comment(new_comment)'>
						<div class='form-group'>
							<label> Comment </label>
							<input type='text' ng-model='new_comment.comment'>
						</div>

						<button type='submit' class='btn btn-default'> Add Comment </button>

					</form>
				</div>
			</div>


			<section class="comments">
				<h2>Comments:</h2>
				<div class="row" ng-repeat="comment in comments">
					<div class="col-xs-12">
						<div class="comment">
							<h3>{{comment.user.first_name}} {{comment.user.last_name}}</h3>
							<div class="comment-content" ng-show="!comment.edit">{{comment.comment}}</div>
							<div ng-if="comment.user.id == active_user.user.id">
								<div class="comment-box" ng-show="comment.edit">
									<input type='text' ng-model='comment.comment'>
								</div>
								
								<p ng-show="!comment.edit">{{comment.datetime}} - <a href ng-click="toggleEditComment(comment)">Edit</a> - <a href ng-click="delete(comment)">Delete</a></p>
								<p ng-show="comment.edit"><a href ng-click="toggleSaveComment(comment)">Save</a></p>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
		<div class="col-xs-4">

		</div>
	</div>
</div>

<div class="modal fade" id="menuModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4>Are you sure?</h4>
      </div>
      <div class="modal-body">
		<div class="row">
			<div class="col-sm-12">
				Deleting a comment is forever. There is no undo.
				<a href ng-click="confirmDelete(currentComment)" class="btn btn-default">Delete</a>
			</div>
		</div>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->